import React, { useEffect } from "react";
import { Main } from "../components";
import Cookies from "universal-cookie";
import { v4 as uuidv4 } from "uuid";
import axios from "axios";

const IndexPage: React.FC = () => {
  const instance = axios.create({
    baseURL: "http://api.localhost",
    withCredentials: true,
  });
  useEffect(() => {
    const cookies = new Cookies();
    cookies.set("XSRF-TOKEN", uuidv4(), {
      domain: "localhost",
      sameSite: "strict",
    });

    instance
      .get("")
      .then((res) => console.log(res.data))
      .catch((err) => console.info(err.message));
  }, [instance]);

  return (
    <>
      <Main>YOHOHO!</Main>
    </>
  );
};
export default IndexPage;
